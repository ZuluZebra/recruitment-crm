<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RecruitPro CRM - Chris van der Merwe</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            margin: 0;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
        }
    </style>
</head>
<body>
    <div id="root"></div>
    
    <script type="text/babel">
        const { useState, useEffect } = React;
        
        // Supabase configuration
        const CONFIG = {
            supabaseUrl: 'https://zrnezxeoyuzynvrouart.supabase.co',
            supabaseKey: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InpybmV6eGVveXV6eW52cm91YXJ0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDg1NDc1NDEsImV4cCI6MjA2NDEyMzU0MX0.lVA0PHErWqlRcFaXSnjN9glU7oNL0Ir2-XV-jgfffc4'
        };

        // Simple Supabase client
        const supabase = {
            async request(endpoint, options = {}) {
                try {
                    const response = await fetch(`${CONFIG.supabaseUrl}/rest/v1/${endpoint}`, {
                        headers: {
                            'apikey': CONFIG.supabaseKey,
                            'Authorization': `Bearer ${CONFIG.supabaseKey}`,
                            'Content-Type': 'application/json',
                            'Prefer': 'return=representation',
                            ...options.headers
                        },
                        ...options
                    });

                    if (!response.ok) {
                        throw new Error(`HTTP error! status: ${response.status}`);
                    }

                    const data = await response.json();
                    return { data, error: null };
                } catch (error) {
                    console.error('Supabase request failed:', error);
                    return { data: null, error };
                }
            },

            async select(table, query = '') {
                return this.request(`${table}?${query}`);
            },

            async insert(table, data) {
                return this.request(table, {
                    method: 'POST',
                    body: JSON.stringify(data)
                });
            },

            async update(table, data, filter) {
                return this.request(`${table}?${filter}`, {
                    method: 'PATCH',
                    body: JSON.stringify(data)
                });
            }
        };

        const RecruitmentCRM = () => {
            const [currentUser, setCurrentUser] = useState(null);
            const [candidates, setCandidates] = useState([]);
            const [searchTerm, setSearchTerm] = useState('');
            const [statusFilter, setStatusFilter] = useState('all');
            const [showAddForm, setShowAddForm] = useState(false);
            const [viewingCandidate, setViewingCandidate] = useState(null);
            const [isEditing, setIsEditing] = useState(false);
            const [loginPassword, setLoginPassword] = useState('');

            const [users] = useState([
                { id: 1, name: 'Chris van der Merwe', email: 'chris@company.com', role: 'admin', avatar: 'CM', password: 'NextGen' }
            ]);

            const statuses = [
                { value: 'new', label: 'New', color: 'bg-blue-100 text-blue-800' },
                { value: 'screening', label: 'Screening', color: 'bg-yellow-100 text-yellow-800' },
                { value: 'interviewing', label: 'Interviewing', color: 'bg-purple-100 text-purple-800' },
                { value: 'offer', label: 'Offer Extended', color: 'bg-green-100 text-green-800' },
                { value: 'hired', label: 'Hired', color: 'bg-green-100 text-green-800' },
                { value: 'rejected', label: 'Rejected', color: 'bg-red-100 text-red-800' },
                { value: 'do-not-contact', label: 'Do Not Contact', color: 'bg-gray-100 text-gray-800' }
            ];

            // Load candidates from Supabase
            const loadCandidates = async () => {
                try {
                    const { data, error } = await supabase.select('candidates');
                    if (error) {
                        console.error('Failed to load candidates:', error);
                        setCandidates([
                            {
                                id: 1,
                                name: 'Alice Rodriguez (Demo)',
                                email: 'alice.rodriguez@email.com',
                                phone: '+1 (555) 123-4567',
                                position: 'Senior React Developer',
                                job_title: 'Lead Frontend Developer',
                                company: 'Tech Innovations Inc',
                                status: 'interviewing',
                                confidential: false,
                                location: 'San Francisco, CA',
                                notes: 'Excellent technical skills, very responsive during initial screening.',
                                linkedin_url: 'https://linkedin.com/in/alicerodriguez',
                                added_by: 'Chris van der Merwe',
                                added_date: '2025-05-25',
                                last_updated: '2025-05-28',
                                last_viewed: '2025-05-29T10:30:00Z',
                                last_viewed_by: 'Chris van der Merwe'
                            }
                        ]);
                    } else {
                        setCandidates(data || []);
                    }
                } catch (err) {
                    console.error('Connection error:', err);
                }
            };

            // Save candidate to Supabase
            const saveCandidate = async (candidateData) => {
                try {
                    if (candidateData.id && candidates.find(c => c.id === candidateData.id)) {
                        // Update existing
                        const { data, error } = await supabase.update('candidates', candidateData, `id=eq.${candidateData.id}`);
                        if (!error) {
                            setCandidates(prev => prev.map(c => c.id === candidateData.id ? candidateData : c));
                            console.log('Updated candidate successfully');
                        } else {
                            console.error('Update failed:', error);
                        }
                    } else {
                        // Create new
                        const newCandidate = { ...candidateData };
                        delete newCandidate.id;
                        const { data, error } = await supabase.insert('candidates', newCandidate);
                        if (!error && data && data[0]) {
                            setCandidates(prev => [...prev, data[0]]);
                            console.log('Added candidate successfully');
                        } else {
                            // Fallback for demo mode
                            setCandidates(prev => [...prev, { ...candidateData, id: Date.now() }]);
                            console.log('Using fallback mode');
                        }
                    }
                    // Reload candidates to ensure consistency
                    await loadCandidates();
                } catch (err) {
                    console.error('Save error:', err);
                }
            };

            // Track when candidate is viewed
            const trackCandidateView = async (candidate) => {
                const viewTimestamp = new Date().toISOString();
                const updatedCandidate = {
                    ...candidate,
                    last_viewed: viewTimestamp,
                    last_viewed_by: currentUser.name
                };
                await saveCandidate(updatedCandidate);
                setViewingCandidate(updatedCandidate);
            };

            useEffect(() => {
                loadCandidates();
            }, []);

            // Add Candidate Form Component
            const AddCandidateForm = () => {
                const [formData, setFormData] = useState({
                    name: '',
                    company: '',
                    job_title: ''
                });

                const handleSubmit = async (e) => {
                    e.preventDefault();
                    if (!formData.name || !formData.company || !formData.job_title) {
                        alert('Please fill in all fields');
                        return;
                    }

                    const newCandidate = {
                        ...formData,
                        id: Date.now(),
                        email: '',
                        phone: '',
                        position: formData.job_title,
                        location: '',
                        status: 'new',
                        confidential: false,
                        notes: '',
                        linkedin_url: '',
                        added_by: currentUser.name,
                        added_date: new Date().toISOString().split('T')[0],
                        last_updated: new Date().toISOString().split('T')[0],
                        last_viewed: null,
                        last_viewed_by: null
                    };

                    await saveCandidate(newCandidate);
                    setFormData({ name: '', company: '', job_title: '' });
                    setShowAddForm(false);
                };

                return React.createElement('div', { 
                    className: "fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50" 
                },
                    React.createElement('div', { className: "bg-white rounded-xl p-6 w-full max-w-md" },
                        React.createElement('h2', { className: "text-xl font-bold mb-6" }, "Add New Candidate"),
                        React.createElement('form', { onSubmit: handleSubmit, className: "space-y-4" },
                            React.createElement('div', null,
                                React.createElement('label', { className: "block text-sm font-medium text-gray-700 mb-1" }, "Full Name *"),
                                React.createElement('input', {
                                    type: "text",
                                    value: formData.name,
                                    onChange: (e) => setFormData({...formData, name: e.target.value}),
                                    className: "w-full p-3 border rounded-lg focus:ring-2 focus:ring-indigo-500",
                                    placeholder: "e.g. John Smith",
                                    required: true
                                })
                            ),
                            React.createElement('div', null,
                                React.createElement('label', { className: "block text-sm font-medium text-gray-700 mb-1" }, "Company *"),
                                React.createElement('input', {
                                    type: "text",
                                    value: formData.company,
                                    onChange: (e) => setFormData({...formData, company: e.target.value}),
                                    className: "w-full p-3 border rounded-lg focus:ring-2 focus:ring-indigo-500",
                                    placeholder: "e.g. Google, Microsoft",
                                    required: true
                                })
                            ),
                            React.createElement('div', null,
                                React.createElement('label', { className: "block text-sm font-medium text-gray-700 mb-1" }, "Job Title *"),
                                React.createElement('input', {
                                    type: "text",
                                    value: formData.job_title,
                                    onChange: (e) => setFormData({...formData, job_title: e.target.value}),
                                    className: "w-full p-3 border rounded-lg focus:ring-2 focus:ring-indigo-500",
                                    placeholder: "e.g. Senior Developer, Sales Manager",
                                    required: true
                                })
                            ),
                            React.createElement('div', { className: "flex space-x-4 pt-4" },
                                React.createElement('button', {
                                    type: "submit",
                                    className: "flex-1 bg-indigo-600 text-white py-3 px-4 rounded-lg hover:bg-indigo-700 font-medium"
                                }, "Add Candidate"),
                                React.createElement('button', {
                                    type: "button",
                                    onClick: () => setShowAddForm(false),
                                    className: "flex-1 bg-gray-300 text-gray-700 py-3 px-4 rounded-lg hover:bg-gray-400 font-medium"
                                }, "Cancel")
                            )
                        )
                    )
                );
            };

            // Detailed Candidate View Component
            const CandidateDetailView = () => {
                const [editData, setEditData] = useState(viewingCandidate);
                const [notes, setNotes] = useState(viewingCandidate.notes || '');
                const [linkedinUrl, setLinkedinUrl] = useState(viewingCandidate.linkedin_url || '');

                // Track view when component opens
                useEffect(() => {
                    if (viewingCandidate && !viewingCandidate.last_viewed) {
                        trackCandidateView(viewingCandidate);
                    }
                }, []);

                const handleSave = async () => {
                    const updatedCandidate = {
                        ...editData,
                        notes,
                        linkedin_url: linkedinUrl,
                        last_updated: new Date().toISOString().split('T')[0]
                    };
                    await saveCandidate(updatedCandidate);
                    setViewingCandidate(updatedCandidate);
                    setIsEditing(false);
                };

                const updateStatus = async (newStatus) => {
                    const updatedCandidate = {
                        ...viewingCandidate,
                        status: newStatus,
                        last_updated: new Date().toISOString().split('T')[0]
                    };
                    await saveCandidate(updatedCandidate);
                    setViewingCandidate(updatedCandidate);
                };

                const currentStatus = statuses.find(s => s.value === viewingCandidate.status);

                // Format timestamp for display
                const formatViewTime = (timestamp) => {
                    if (!timestamp) return 'Never';
                    const date = new Date(timestamp);
                    return date.toLocaleString();
                };

                return React.createElement('div', { 
                    className: "fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50" 
                },
                    React.createElement('div', { className: "bg-white rounded-xl w-full max-w-4xl max-h-[90vh] overflow-y-auto" },
                        React.createElement('div', { className: "p-6 border-b" },
                            React.createElement('div', { className: "flex justify-between items-start" },
                                React.createElement('div', null,
                                    React.createElement('h2', { className: "text-2xl font-bold text-gray-900" }, viewingCandidate.name),
                                    React.createElement('p', { className: "text-gray-600" }, `${viewingCandidate.job_title} at ${viewingCandidate.company}`),
                                    React.createElement('div', { className: "flex items-center mt-2" },
                                        React.createElement('span', { 
                                            className: `px-3 py-1 rounded-full text-sm font-medium ${currentStatus?.color}` 
                                        }, currentStatus?.label),
                                        viewingCandidate.confidential && React.createElement('span', { 
                                            className: "ml-2 px-3 py-1 rounded-full text-sm font-medium bg-red-100 text-red-800" 
                                        }, "üîí Confidential")
                                    )
                                ),
                                React.createElement('div', { className: "flex space-x-2" },
                                    React.createElement('button', {
                                        onClick: () => setIsEditing(!isEditing),
                                        className: "bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700"
                                    }, isEditing ? 'Cancel Edit' : 'Edit'),
                                    React.createElement('button', {
                                        onClick: () => setViewingCandidate(null),
                                        className: "text-gray-400 hover:text-gray-600 text-2xl"
                                    }, "√ó")
                                )
                            )
                        ),

                        React.createElement('div', { className: "p-6 grid grid-cols-3 gap-6" },
                            React.createElement('div', { className: "col-span-2 space-y-6" },
                                isEditing ? 
                                    React.createElement('div', { className: "space-y-4" },
                                        React.createElement('h3', { className: "text-lg font-semibold mb-3" }, "Edit Candidate Information"),
                                        React.createElement('div', { className: "grid grid-cols-2 gap-4" },
                                            React.createElement('div', null,
                                                React.createElement('label', { className: "block text-sm font-medium text-gray-700 mb-1" }, "Name"),
                                                React.createElement('input', {
                                                    type: "text",
                                                    value: editData.name,
                                                    onChange: (e) => setEditData({...editData, name: e.target.value}),
                                                    className: "w-full p-2 border rounded-lg focus:ring-2 focus:ring-indigo-500"
                                                })
                                            ),
                                            React.createElement('div', null,
                                                React.createElement('label', { className: "block text-sm font-medium text-gray-700 mb-1" }, "Email"),
                                                React.createElement('input', {
                                                    type: "email",
                                                    value: editData.email,
                                                    onChange: (e) => setEditData({...editData, email: e.target.value}),
                                                    className: "w-full p-2 border rounded-lg focus:ring-2 focus:ring-indigo-500"
                                                })
                                            ),
                                            React.createElement('div', null,
                                                React.createElement('label', { className: "block text-sm font-medium text-gray-700 mb-1" }, "Phone"),
                                                React.createElement('input', {
                                                    type: "tel",
                                                    value: editData.phone,
                                                    onChange: (e) => setEditData({...editData, phone: e.target.value}),
                                                    className: "w-full p-2 border rounded-lg focus:ring-2 focus:ring-indigo-500"
                                                })
                                            ),
                                            React.createElement('div', null,
                                                React.createElement('label', { className: "block text-sm font-medium text-gray-700 mb-1" }, "Job Title"),
                                                React.createElement('input', {
                                                    type: "text",
                                                    value: editData.job_title,
                                                    onChange: (e) => setEditData({...editData, job_title: e.target.value}),
                                                    className: "w-full p-2 border rounded-lg focus:ring-2 focus:ring-indigo-500"
                                                })
                                            ),
                                            React.createElement('div', null,
                                                React.createElement('label', { className: "block text-sm font-medium text-gray-700 mb-1" }, "Company"),
                                                React.createElement('input', {
                                                    type: "text",
                                                    value: editData.company,
                                                    onChange: (e) => setEditData({...editData, company: e.target.value}),
                                                    className: "w-full p-2 border rounded-lg focus:ring-2 focus:ring-indigo-500"
                                                })
                                            ),
                                            React.createElement('div', null,
                                                React.createElement('label', { className: "block text-sm font-medium text-gray-700 mb-1" }, "Location"),
                                                React.createElement('input', {
                                                    type: "text",
                                                    value: editData.location,
                                                    onChange: (e) => setEditData({...editData, location: e.target.value}),
                                                    className: "w-full p-2 border rounded-lg focus:ring-2 focus:ring-indigo-500"
                                                })
                                            ),
                                            React.createElement('div', null,
                                                React.createElement('label', { className: "block text-sm font-medium text-gray-700 mb-1" }, "LinkedIn URL"),
                                                React.createElement('input', {
                                                    type: "url",
                                                    value: linkedinUrl,
                                                    onChange: (e) => setLinkedinUrl(e.target.value),
                                                    placeholder: "https://linkedin.com/in/username",
                                                    className: "w-full p-2 border rounded-lg focus:ring-2 focus:ring-indigo-500"
                                                })
                                            )
                                        ),
                                        React.createElement('button', {
                                            onClick: handleSave,
                                            className: "bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700"
                                        }, "Save Changes")
                                    ) :
                                    React.createElement('div', null,
                                        React.createElement('div', null,
                                            React.createElement('h3', { className: "text-lg font-semibold mb-3" }, "Contact Information"),
                                            React.createElement('div', { className: "bg-gray-50 p-4 rounded-lg space-y-2" },
                                                React.createElement('p', null, React.createElement('strong', null, "Email: "), viewingCandidate.email || 'Not provided'),
                                                React.createElement('p', null, React.createElement('strong', null, "Phone: "), viewingCandidate.phone || 'Not provided'),
                                                React.createElement('p', null, React.createElement('strong', null, "Location: "), viewingCandidate.location || 'Not provided'),
                                                React.createElement('p', null, React.createElement('strong', null, "Job Title: "), viewingCandidate.job_title),
                                                React.createElement('p', null, React.createElement('strong', null, "Company: "), viewingCandidate.company),
                                                viewingCandidate.linkedin_url && React.createElement('p', null, 
                                                    React.createElement('strong', null, "LinkedIn: "),
                                                    React.createElement('a', {
                                                        href: viewingCandidate.linkedin_url,
                                                        target: '_blank',
                                                        rel: 'noopener noreferrer',
                                                        className: 'text-blue-600 hover:text-blue-800 underline'
                                                    }, 'View Profile')
                                                )
                                            )
                                        ),

                                        React.createElement('div', null,
                                            React.createElement('h3', { className: "text-lg font-semibold mb-3" }, "LinkedIn Profile"),
                                            React.createElement('input', {
                                                type: "url",
                                                value: linkedinUrl,
                                                onChange: (e) => setLinkedinUrl(e.target.value),
                                                placeholder: "https://linkedin.com/in/username",
                                                className: "w-full p-3 border rounded-lg focus:ring-2 focus:ring-indigo-500 mb-2"
                                            }),
                                            React.createElement('button', {
                                                onClick: handleSave,
                                                className: "bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700"
                                            }, "Save LinkedIn URL")
                                        ),

                                        React.createElement('div', null,
                                            React.createElement('h3', { className: "text-lg font-semibold mb-3" }, "Status Management"),
                                            React.createElement('div', { className: "flex flex-wrap gap-2" },
                                                statuses.map(status => 
                                                    React.createElement('button', {
                                                        key: status.value,
                                                        onClick: () => updateStatus(status.value),
                                                        className: `px-3 py-1 rounded-full text-sm font-medium transition-colors ${
                                                            viewingCandidate.status === status.value 
                                                                ? status.color
                                                                : 'bg-gray-100 text-gray-600 hover:bg-gray-200'
                                                        }`
                                                    }, status.label)
                                                )
                                            )
                                        ),

                                        React.createElement('div', null,
                                            React.createElement('h3', { className: "text-lg font-semibold mb-3" }, "Notes"),
                                            React.createElement('textarea', {
                                                value: notes,
                                                onChange: (e) => setNotes(e.target.value),
                                                placeholder: "Add notes about this candidate...",
                                                className: "w-full p-3 border rounded-lg focus:ring-2 focus:ring-indigo-500 h-32"
                                            }),
                                            React.createElement('button', {
                                                onClick: handleSave,
                                                className: "mt-2 bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700"
                                            }, "Save Notes")
                                        )
                                    )
                            ),

                            React.createElement('div', { className: "space-y-6" },
                                React.createElement('div', null,
                                    React.createElement('h3', { className: "text-lg font-semibold mb-3" }, "Candidate Info"),
                                    React.createElement('div', { className: "bg-gray-50 p-3 rounded-lg space-y-2 text-sm" },
                                        React.createElement('p', null, React.createElement('strong', null, "Added by: "), viewingCandidate.added_by),
                                        React.createElement('p', null, React.createElement('strong', null, "Added: "), viewingCandidate.added_date),
                                        React.createElement('p', null, React.createElement('strong', null, "Last updated: "), viewingCandidate.last_updated)
                                    )
                                ),

                                React.createElement('div', null,
                                    React.createElement('h3', { className: "text-lg font-semibold mb-3" }, "View History"),
                                    React.createElement('div', { className: "bg-blue-50 p-3 rounded-lg space-y-2 text-sm" },
                                        React.createElement('p', null, React.createElement('strong', null, "Last viewed: "), formatViewTime(viewingCandidate.last_viewed)),
                                        viewingCandidate.last_viewed_by && React.createElement('p', null, React.createElement('strong', null, "Viewed by: "), viewingCandidate.last_viewed_by),
                                        React.createElement('p', { className: 'text-xs text-gray-600 mt-2' }, "This record was accessed when you opened this detail view.")
                                    )
                                )
                            )
                        )
                    )
                );
            };

            // Login Screen
            if (!currentUser) {
                return React.createElement('div', { 
                    className: "min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center" 
                }, 
                    React.createElement('div', { 
                        className: "bg-white p-8 rounded-xl shadow-lg w-full max-w-md" 
                    },
                        React.createElement('div', { className: "text-center mb-8" },
                            React.createElement('h1', { className: "text-3xl font-bold text-gray-900 mb-2" }, "RecruitPro CRM"),
                            React.createElement('p', { className: "text-gray-600" }, "Secure recruitment management system"),
                            React.createElement('div', { className: "mt-3 p-2 bg-green-100 rounded-lg" },
                                React.createElement('p', { className: "text-sm text-green-800" }, "‚úÖ Connected to Database")
                            )
                        ),
                        React.createElement('div', { className: "space-y-4" },
                            React.createElement('div', { className: "text-center" },
                                React.createElement('div', { 
                                    className: "w-16 h-16 bg-indigo-100 rounded-full flex items-center justify-center text-indigo-600 font-bold text-xl mx-auto mb-4" 
                                }, "CM"),
                                React.createElement('h3', { className: "text-lg font-semibold text-gray-700" }, "Chris van der Merwe"),
                                React.createElement('p', { className: "text-sm text-gray-500" }, "Administrator")
                            ),
                            React.createElement('div', { className: "space-y-3" },
                                React.createElement('div', null,
                                    React.createElement('label', { className: "block text-sm font-medium text-gray-700 mb-1" }, "Password"),
                                    React.createElement('input', {
                                        type: "password",
                                        value: loginPassword,
                                        onChange: (e) => setLoginPassword(e.target.value),
                                        placeholder: "Enter your password",
                                        className: "w-full p-3 border rounded-lg focus:ring-2 focus:ring-indigo-500",
                                        onKeyPress: (e) => {
                                            if (e.key === 'Enter') {
                                                if (loginPassword === users[0].password) {
                                                    setCurrentUser(users[0]);
                                                } else {
                                                    alert('Incorrect password');
                                                    setLoginPassword('');
                                                }
                                            }
                                        }
                                    })
                                ),
                                React.createElement('button', {
                                    onClick: () => {
                                        if (loginPassword === users[0].password) {
                                            setCurrentUser(users[0]);
                                        } else {
                                            alert('Incorrect password');
                                            setLoginPassword('');
                                        }
                                    },
                                    className: "w-full bg-indigo-600 text-white py-3 px-4 rounded-lg hover:bg-indigo-700 font-medium"
                                }, "Sign In")
                            )
                        )
                    )
                );
            }

            // Simple dashboard for space reasons
            const filteredCandidates = candidates.filter(candidate => {
                if (candidate.confidential && currentUser.role !== 'admin') {
                    return false;
                }
                
                const matchesSearch = candidate.name.toLowerCase().includes(searchTerm.toLowerCase()) ||
                                     candidate.position.toLowerCase().includes(searchTerm.toLowerCase()) ||
                                     candidate.email.toLowerCase().includes(searchTerm.toLowerCase());
                
                const matchesStatus = statusFilter === 'all' || candidate.status === statusFilter;
                
                return matchesSearch && matchesStatus;
            });

            return React.createElement('div', { className: "min-h-screen bg-gray-50" },
                // Header
                React.createElement('header', { className: "bg-white shadow-sm border-b" },
                    React.createElement('div', { className: "max-w-7xl mx-auto px-4 sm:px-6 lg:px-8" },
                        React.createElement('div', { className: "flex justify-between items-center h-16" },
                            React.createElement('div', { className: "flex items-center" },
                                React.createElement('h1', { className: "text-xl font-bold text-gray-900 mr-4" }, "RecruitPro CRM"),
                                React.createElement('span', { 
                                    className: "px-2 py-1 bg-green-100 text-green-800 text-xs rounded-full" 
                                }, "Database Connected")
                            ),
                            React.createElement('div', { className: "flex items-center space-x-4" },
                                React.createElement('div', { className: "flex items-center space-x-2" },
                                    React.createElement('div', { 
                                        className: "w-8 h-8 bg-indigo-100 rounded-full flex items-center justify-center" 
                                    },
                                        React.createElement('span', { 
                                            className: "text-sm font-medium text-indigo-600" 
                                        }, currentUser.avatar)
                                    ),
                                    React.createElement('span', { 
                                        className: "text-sm font-medium text-gray-700" 
                                    }, currentUser.name),
                                    React.createElement('button', {
                                        onClick: () => {
                                            setCurrentUser(null);
                                            setLoginPassword('');
                                        },
                                        className: "ml-4 text-sm text-gray-500 hover:text-gray-700"
                                    }, "Sign Out")
                                )
                            )
                        )
                    )
                ),

                // Main Content
                React.createElement('main', { className: "max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8" },
                    React.createElement('div', { className: "space-y-6" },
                        // Stats
                        React.createElement('div', { className: "grid grid-cols-3 gap-6" },
                            React.createElement('div', { className: "bg-white p-6 rounded-xl shadow-sm border" },
                                React.createElement('p', { className: "text-sm font-medium text-gray-600" }, "Total Candidates"),
                                React.createElement('p', { className: "text-2xl font-bold text-gray-900" }, candidates.length)
                            ),
                            React.createElement('div', { className: "bg-white p-6 rounded-xl shadow-sm border" },
                                React.createElement('p', { className: "text-sm font-medium text-gray-600" }, "Interviewing"),
                                React.createElement('p', { className: "text-2xl font-bold text-gray-900" }, 
                                    candidates.filter(c => c.status === 'interviewing').length)
                            ),
                            React.createElement('div', { className: "bg-white p-6 rounded-xl shadow-sm border" },
                                React.createElement('p', { className: "text-sm font-medium text-gray-600" }, "Hired"),
                                React.createElement('p', { className: "text-2xl font-bold text-gray-900" }, 
                                    candidates.filter(c => c.status === 'hired').length)
                            )
                        ),

                        // Search and Add
                        React.createElement('div', { className: "bg-white p-6 rounded-xl shadow-sm border" },
                            React.createElement('div', { className: "flex space-x-4" },
                                React.createElement('input', {
                                    type: "text",
                                    placeholder: "Search candidates...",
                                    value: searchTerm,
                                    onChange: (e) => setSearchTerm(e.target.value),
                                    className: "flex-1 p-2 border rounded-lg focus:ring-2 focus:ring-indigo-500"
                                }),
                                React.createElement('select', {
                                    value: statusFilter,
                                    onChange: (e) => setStatusFilter(e.target.value),
                                    className: "px-4 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500"
                                },
                                    React.createElement('option', { value: "all" }, "All Statuses"),
                                    ...statuses.map(status => 
                                        React.createElement('option', { key: status.value, value: status.value }, status.label)
                                    )
                                ),
                                React.createElement('button', {
                                    onClick: () => setShowAddForm(true),
                                    className: "bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700"
                                }, "‚ûï Add Candidate")
                            )
                        ),

                        // Candidates Table
                        React.createElement('div', { className: "bg-white rounded-xl shadow-sm border overflow-hidden" },
                            React.createElement('div', { className: "overflow-x-auto" },
                                React.createElement('table', { className: "w-full" },
                                    React.createElement('thead', { className: "bg-gray-50" },
                                        React.createElement('tr', null,
                                            React.createElement('th', { 
                                                className: "px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider" 
                                            }, "Candidate"),
                                            React.createElement('th', { 
                                                className: "px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider" 
                                            }, "Position"),
                                            React.createElement('th', { 
                                                className: "px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider" 
                                            }, "Status"),
                                            React.createElement('th', { 
                                                className: "px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider" 
                                            }, "Company"),
                                            React.createElement('th', { 
                                                className: "px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider" 
                                            }, "Actions")
                                        )
                                    ),
                                    React.createElement('tbody', { className: "bg-white divide-y divide-gray-200" },
                                        filteredCandidates.map(candidate => {
                                            const status = statuses.find(s => s.value === candidate.status);
                                            return React.createElement('tr', { key: candidate.id, className: "hover:bg-gray-50" },
                                                React.createElement('td', { className: "px-6 py-4 whitespace-nowrap" },
                                                    React.createElement('div', { className: "flex items-center" },
                                                        React.createElement('div', { 
                                                            className: "h-10 w-10 rounded-full bg-indigo-100 flex items-center justify-center mr-4" 
                                                        },
                                                            React.createElement('span', { 
                                                                className: "text-sm font-medium text-indigo-600" 
                                                            }, candidate.name.split(' ').map(n => n[0]).join(''))
                                                        ),
                                                        React.createElement('div', null,
                                                            React.createElement('button', {
                                                                onClick: () => trackCandidateView(candidate),
                                                                className: "text-sm font-medium text-indigo-600 hover:text-indigo-900"
                                                            }, candidate.name),
                                                            React.createElement('div', { className: "text-sm text-gray-500" }, candidate.email)
                                                        )
                                                    )
                                                ),
                                                React.createElement('td', { className: "px-6 py-4 whitespace-nowrap" },
                                                    React.createElement('div', { className: "text-sm text-gray-900" }, candidate.position),
                                                    React.createElement('div', { className: "text-sm text-gray-500" }, candidate.job_title)
                                                ),
                                                React.createElement('td', { className: "px-6 py-4 whitespace-nowrap" },
                                                    React.createElement('span', { 
                                                        className: `px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${status?.color}` 
                                                    }, status?.label)
                                                ),
                                                React.createElement('td', { className: "px-6 py-4 whitespace-nowrap text-sm text-gray-900" }, 
                                                    candidate.company),
                                                React.createElement('td', { className: "px-6 py-4 whitespace-nowrap text-sm font-medium" },
                                                    React.createElement('button', {
                                                        onClick: () => trackCandidateView(candidate),
                                                        className: "text-indigo-600 hover:text-indigo-900"
                                                    }, "üëÅÔ∏è View Details")
                                                )
                                            );
                                        })
                                    )
                                )
                            )
                        )
                    )
                ),

                // Modals
                showAddForm && React.createElement(AddCandidateForm),
                viewingCandidate && React.createElement(CandidateDetailView)
            );
        };

        ReactDOM.render(React.createElement(RecruitmentCRM), document.getElementById('root'));
    </script>
</body>
</html>
